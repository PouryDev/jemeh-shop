# 🌱 Database Seeder Guide

این فایل راهنمای کامل برای استفاده از seeder های سیستم است.

## 📋 محتویات Seeder

### 1. **Users (کاربران)**

-   **مدیر سیستم**: `09123456789` / `password`
-   **کاربر تست**: `09123456790` / `password`
-   **5 کاربر اضافی** با اطلاعات تصادفی

### 2. **Categories (دسته‌بندی‌ها)**

-   تیشرت
-   شلوار
-   کفش
-   اکسسوری
-   لباس زمستانی
-   لباس تابستانی

### 3. **Colors (رنگ‌ها)**

-   قرمز (#EF4444)
-   آبی (#3B82F6)
-   سبز (#10B981)
-   مشکی (#1F2937)
-   سفید (#F9FAFB)
-   خاکستری (#6B7280)
-   صورتی (#EC4899)
-   بنفش (#8B5CF6)

### 4. **Sizes (سایزها)**

-   XS, S, M, L, XL, XXL

### 5. **Products (محصولات)**

-   **30 محصول** با نام‌های متنوع
-   تصاویر تصادفی از Picsum
-   قیمت‌های مختلف (50,000 - 500,000 تومان)
-   تنوع در رنگ‌ها و سایزها

### 6. **Product Variants (تنوع محصولات)**

-   برای محصولاتی که `has_variants = true`
-   ترکیبات مختلف رنگ و سایز
-   قیمت‌های متفاوت برای هر تنوع
-   موجودی تصادفی

### 7. **Discount Codes (کدهای تخفیف)**

-   `WELCOME20`: 20% تخفیف، حداکثر 50,000 تومان
-   `SUMMER50`: 50% تخفیف، حداکثر 100,000 تومان
-   `FIXED10K`: 10,000 تومان تخفیف ثابت
-   یک کد تصادفی 15% تخفیف

### 8. **Campaigns (کمپین‌ها)**

-   **فروش فوق‌العاده تابستان**: 30% تخفیف
-   **تخفیف ویژه تیشرت‌ها**: 25% تخفیف
-   **تخفیف 20 هزار تومانی**: مبلغ ثابت
-   **فروش ویژه زمستان**: 40% تخفیف (آینده)

### 9. **Sample Orders (سفارشات نمونه)**

-   **20-30 سفارش** با وضعیت‌های مختلف
-   **تخفیف کمپین** روی محصولات
-   **کدهای تخفیف** روی برخی سفارشات
-   **فاکتور و تراکنش** برای سفارشات تکمیل شده

## 🚀 نحوه اجرا

### روش 1: اجرای کامل

```bash
# اجرای تمام migrations
docker-compose exec php php artisan migrate --force

# اجرای seeder کامل
docker-compose exec php php artisan db:seed --force
```

### روش 2: اجرای جداگانه

```bash
# فقط محصولات و دسته‌بندی‌ها
docker-compose exec php php artisan db:seed --class=DatabaseSeeder

# فقط تنوع محصولات
docker-compose exec php php artisan db:seed --class=ProductVariantSeeder

# فقط سفارشات نمونه
docker-compose exec php php artisan db:seed --class=OrderSeeder
```

### روش 3: ریست کامل

```bash
# حذف تمام جداول و ایجاد مجدد
docker-compose exec php php artisan migrate:fresh --force --seed
```

## 🔧 تنظیمات

### تغییر تعداد محصولات

در `DatabaseSeeder.php` خط 170:

```php
for ($i = 0; $i < 30; $i++) { // تغییر عدد 30
```

### تغییر تعداد سفارشات

در `DatabaseSeeder.php` خط 441:

```php
for ($i = 0; $i < rand(20, 30); $i++) { // تغییر اعداد
```

### تغییر قیمت‌ها

در `DatabaseSeeder.php` خط 179:

```php
'price' => rand(50000, 500000), // تغییر محدوده قیمت
```

## 📊 داده‌های ایجاد شده

پس از اجرای seeder، سیستم شامل:

-   ✅ **2 کاربر ادمین**
-   ✅ **6 کاربر عادی**
-   ✅ **6 دسته‌بندی**
-   ✅ **8 رنگ**
-   ✅ **6 سایز**
-   ✅ **30 محصول**
-   ✅ **تنوع محصولات** (برای محصولات دارای تنوع)
-   ✅ **4 کد تخفیف**
-   ✅ **4 کمپین**
-   ✅ **20-30 سفارش نمونه**
-   ✅ **فاکتورها و تراکنش‌ها**

## 🎯 تست سیستم

### 1. **ورود به پنل ادمین**

-   شماره: `09123456789`
-   رمز: `password`

### 2. **تست کمپین‌ها**

-   صفحه اصلی: نمایش بنرهای کمپین
-   محصولات: نشان‌های تخفیف
-   قیمت‌ها: نمایش قیمت اصلی و تخفیف‌خورده

### 3. **تست کدهای تخفیف**

-   کد `WELCOME20` برای سفارشات بالای 100,000 تومان
-   کد `SUMMER50` برای سفارشات بالای 200,000 تومان

### 4. **تست تنوع محصولات**

-   محصولات دارای رنگ و سایز
-   قیمت‌های مختلف برای هر تنوع
-   موجودی جداگانه

## ⚠️ نکات مهم

1. **تصاویر**: از Picsum استفاده می‌شود (نیاز به اینترنت)
2. **تاریخ‌ها**: سفارشات در 30 روز گذشته ایجاد می‌شوند
3. **وضعیت‌ها**: توزیع واقعی‌تر وضعیت‌ها
4. **تخفیف‌ها**: ترکیب کمپین + کد تخفیف

## 🔄 اجرای مجدد

برای پاک کردن و اجرای مجدد:

```bash
docker-compose exec php php artisan migrate:fresh --force --seed
```

---

**🎉 سیستم آماده تست است!**
